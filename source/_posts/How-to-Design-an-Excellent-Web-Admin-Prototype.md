title: 如何设计出色的网站后台原型？- 知乎问题学习
date: 2016-03-17 15:11:18
tags:
---

Q：新手请教，如何设计出色的网站后台的原型？前辈们都有那些什么工作方法，设计经验，请不吝赐教!~

作者：justinlam

严重不同意最高票的回答。对 **信息系统逻辑** 的理解太表面。

没错，在设计系统时最开始确实是要定义好模块结构的划分，但是划分的方法不应该按照功能模块而是 **按照业务逻辑进行划分**。首先在 **规划系统时要思考这个系统的作用到底是解决了什么问题或者对企业带来了怎么样的提升** 。在这个大的环境下确定了之后，需求分析的阶段，应该按照业务的职责区块来划分子系统。

> 应该一直维护一个图谱，每一块的都是相连的。可以乱，可以花时间整理。

> 注：作者认为这个是 **在使用上是达不到出色的**。原因是划分的方式。

{% asset_img zhihu-1.png %}

这张图应该是 **很普遍而且典型的后台管理系统**，但是这样的系统无论是在开发还是使用我认为都是 **达不到出色的**。图中的板块划分采用 **"业务名词+管理"** 来进行命名，实际上也就是 **以"物"为线索** 贯穿整个系统。但是在实际操作中 **物与物之间的传递都是交错** 在一起的，例如图中的项目管理板块中包含了"合同管理"，在合同管理板块中又包含了"合同管理"那么究竟是哪个进行管理呢，项目管理中是否又包含权限的区分呢，这样的划分明显是有问题的。我在另一个回答上提到过 **"穷尽不重复"** 的划分方法，其实在这里就可以体现出作用来。

> **物与物之间的传递都是交错**，就是 graph。上例的划分是 tree。

那么正确的后台划分子系统的方式应该是 **按照业务流程** 来划分，以 **"事"** 为线索贯穿系统。采用 **业务流程的环节** 进行划分可以有效的 **避免重复和混乱** 的现象，对整个系统的架构都是非常清晰明了的。想要以"事"为线索进行梳理，有一个很好的方法就是使用 **UML中的构件图** 的来解决。对于产品人员，只需要理解构件图的思想，画出一个轻量级的框架。

> **按照业务流程**，采用 **业务流程的环节** 进行划分。有效的 **避免重复和混乱** 。

{% asset_img zhihu-2.png %}

首先在构件图中两个最重要的概念 **构件和接口** 对应着 **事件和流程** ，接口与接口之间只存在 **实现(代表这个流程由这个事件提供的)和使用(代表这个事件要使用这个流程)** 这两个关系。理解了这一概念之后就可以对 **事与事，事与流程，流程与流程之间进行连接**。

{% asset_img zhihu-3.png %}

画构件图，**第一步是识别建模的构件集合，也就是对主题域进行划分**。可以按照 **工作职责范围(部门)** 划分成不同的 **主题域**，划分的时候也可以根据需要 **进行多级的嵌套** ，这样可以更容易理解上下级之间的关联。例如软件开发商可以按照开发人员，产品人员，销售人员职责不同进行第一级区块划分，然后再根据开发人员负责的不同环节进行第二级部门的划分。那么根据区块就可以很容易划分出"销售"和"研发"两个主题域。

> 构件的集合，可以理解成 namespace。可以镜像于 **部门（工作职责）**
> 嵌套关系，可以镜像于 Job Family。

> Job Family Group -> Job Family 职业群，职业
> Job Family + Management Level = Job Profile 职能
> Job Profile + Organizaiton = Position 职位

在研发这个主题域内主要负责针对软件研发进行管理，经过设计，研发，测试这几个阶段生产出成型的软件。那么这块就可以命名为"研发管理系统子系统"。

在销售这个主题域内主要负责对客户的销售，客户培训，售后服务等，因此这块可以命名为"客户服务管理子系统"。

在一般的系统中往往会加入后勤板块，在这个板块内含有硬件，财政和人员这些基本模板，可以划分成“硬件服务管理子系统”，"财政管理子系统"和"人员管理子系统"。后面两个子系统按照范围界定的原则相对独立，所以在前期设计中暂不考虑。

{% asset_img zhihu-4.png %}

第二步需要把 **功能不同的模块** 划分成 **构件**，同时 **确定构件与构件之间的接口，也就是开始绘制构件图**。首先每一个主题域就是一个构件，这个比较好理解。先分析各个主题域之间的关系，四个系统两两之间有不同的关系。因为人员管理子系统相对比较独立，所以这块可以最后考虑。

"研发管理系统子系统"与"客户服务管理子系统":研发管理需要获取客户服务管理中的订单详情、研发要求、客户资料等；而客户服务管理需要获取研发管理中的项目进展、功能设置等。

"研发管理系统子系统"与"硬件服务管理子系统":研发管理需要知道数据库和服务器的情况，后台资源占用的情况；硬件服务管理需要获取研发团队的项目进度，功能规划和版本维护的情况。

"客户服务管理子系统"与"硬件服务管理子系统": 硬件服务管理需要知道客户的基本信息以便确定投入什么硬件支持；客户服务管理系统一般就不需要从后台服务系统获取信息。

{% asset_img zhihu-5.png %}

（上图是一个比较简单的原型，实际规划还要考虑主题域之间更多关联）

最后一步 **进行主题域范围的明确，界定每个主题域内进行的功能以及相关的事件**。在一些书籍中也把这个关系成为 **上下文关系**，即主题域与功能之间父级与子级的概念。在这个阶段要考虑到 Customer 与 Worker 之间的关系。找到系统中所有的客户，考虑这些客户会引起什么事件的发生，这些事件会引起Worker什么样的工作，讲这些都考虑进来。然后再补充Worker主动发起的动作，那么一个系统的所有事件就能没有遗漏地梳理完整了。这里值得注意的是，对于研发管理子系统而言，其他的客服管理，财政管理都属于是客户关系。他们对于研发关系系统属于消费者的动作。

> 差不多理解作者的思想，核心是从流程触发，找到节点，找到节点间的接口。类似于 SOA，或者 FP。所以，需要一种 stream 的通用格式。
> 但是需要 namespace 之类的进行划分。这一块可以参考领域驱动设计。

{% asset_img zhihu-6.png %}

通过以上三步可以把一个系统大致的框架搭建起来。这样搭建的好处在于系统的业务流程很清晰，无论是对于研发还是使用者而言都是有好处的，每个人都能清楚地意识到自己在做什么事情。上述分析方法是徐峰老师提出的 **SERU需求分析法** 中关于主题域确定，也就是系统框架结构确定的第一步，这也是设计一个系统最根基的地方，然后才是去考虑更细化，更精准的业务流程设计。把根基打好再去做子系统内部的规划就变得比较简单。对于一个系统，在设计时一定要有“自上而下”的思想，从最大的环境去考虑问题，这样才不会在后期规划中因为突然插入的东西变得混乱。(图片有部分来自网络，侵删)

参考资料：

- [SERU最佳需求分析方法](http://zhuanlan.zhihu.com/justinlam/20383851)
- [软件需求最佳实践](https://book.douban.com/subject/3265691/)









