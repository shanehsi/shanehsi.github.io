<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> JavaScript new constructor this from zhihu · Shane Hsi Rocks</title><meta name="description" content="知乎链接：JavaScript 中对象的 constructor 属性的作用是什么？
主要解释：constructor。
12345678910111"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">博客</a></li><li class="nav-list-item"><a href="https://github.com/shane13hsi" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">JavaScript new constructor this from zhihu</h1><div class="post-meta"><div class="post-time">Feb 4, 2016</div></div><div class="post-content"><p>知乎链接：<a href="https://www.zhihu.com/question/19951896" target="_blank" rel="external">JavaScript 中对象的 constructor 属性的作用是什么？</a></p>
<p>主要解释：<code>constructor</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a,b;</span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">A</span> (<span class="params">arg1,arg2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.b=<span class="number">2</span>; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  A.prototype.log = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.a);</span><br><span class="line">  &#125;</span><br><span class="line">  a = <span class="keyword">new</span> A();</span><br><span class="line">  b = <span class="keyword">new</span> A();</span><br><span class="line">&#125;)()</span><br><span class="line">a.log();</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line">b.log();</span><br><span class="line"><span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>a 是 A 的实例，a 的 constructor 就是 A</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; a.constructor</span><br><span class="line">&lt; <span class="function"><span class="keyword">function</span> <span class="title">A</span>(<span class="params">arg1,arg2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.a = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>.b=<span class="number">2</span>; </span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>所以，可以这样给『类A』增加新方法：</p>
<figure class="highlight scilab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.constructor.prototype 在chrome,firefox中可以通过 a.__proto__ 直接访问</span></span><br><span class="line"><span class="transposed_variable">a.</span><span class="transposed_variable">constructor.</span><span class="transposed_variable">prototype.</span><span class="built_in">log2</span> = <span class="function"><span class="keyword">function</span> <span class="params">()</span> &#123;</span></span><br><span class="line">  <span class="transposed_variable">console.</span>log(<span class="transposed_variable">this.</span>b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="transposed_variable">a.</span><span class="built_in">log2</span>();</span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="transposed_variable">b.</span><span class="built_in">log2</span>();</span><br><span class="line"><span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>继续：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; a.constructor.prototype === a.__proto__</span><br><span class="line">&lt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; a.constructor.prototype.constructor === a.constructor</span><br><span class="line">&lt; <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p>知乎链接：<a href="https://www.zhihu.com/question/19636194" target="_blank" rel="external">如何理解 JavaScript 中的 this 关键字？</a></p>
<p>详细：<a href="http://otakustay.com/object-lookup-in-javascript/" target="_blank" rel="external">JavaScript中的对象查找</a>。</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/02/04/Scroll-Position-with-React-zh-cn/" class="prev">上一篇</a><a href="/2016/02/02/Read-React-Structure/" class="next">下一篇</a></div></footer><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>